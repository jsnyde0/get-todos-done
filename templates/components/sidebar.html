<aside 
    x-show="sidebarOpen"
    class="fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] bg-gray-800 shadow-lg overflow-y-auto z-40 transition-transform duration-300 ease-in-out"
    :class="{ '-translate-x-full': !sidebarOpen, 'translate-x-0': sidebarOpen }"
>
    <div class="p-4">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold">Filters</h2>
            <button @click="sidebarOpen = false" class="text-gray-400 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        
        <form hx-get="{% url 'tasks:view_filter' %}" hx-target="#kanban-board" hx-trigger="change, submit">
            <!-- Boards Filter -->
            <div class="mb-4">
                <h3 class="text-lg font-medium mb-2">Boards</h3>
                {% for board in boards %}
                <div class="flex items-center mb-2">
                    <input type="checkbox" id="board-{{ board.id }}" name="boards" value="{{ board.id }}" class="mr-2">
                    <label for="board-{{ board.id }}">{{ board.name }}</label>
                </div>
                {% endfor %}
            </div>

            <!-- Tags Filter -->
            <div class="mb-4">
                <h3 class="text-lg font-medium mb-2">Tags</h3>
                {% for tag in tags %}
                <div class="flex items-center mb-2">
                    <input type="checkbox" id="tag-{{ tag.id }}" name="tags" value="{{ tag.id }}" class="mr-2">
                    <label for="tag-{{ tag.id }}">{{ tag.name }}</label>
                </div>
                {% endfor %}
            </div>

            <!-- Date Filters -->
            <div class="mb-4">
                <h3 class="text-lg font-medium mb-2">Date Filters</h3>
                <div class="grid grid-cols-2 gap-2">
                    <div>
                        <label for="created_after" class="block text-sm">Created After</label>
                        <input type="date" id="created_after" name="created_after" class="w-full bg-gray-700 text-white rounded">
                    </div>
                    <div>
                        <label for="created_before" class="block text-sm">Created Before</label>
                        <input type="date" id="created_before" name="created_before" class="w-full bg-gray-700 text-white rounded">
                    </div>
                    <div>
                        <label for="due_after" class="block text-sm">Due After</label>
                        <input type="date" id="due_after" name="due_after" class="w-full bg-gray-700 text-white rounded">
                    </div>
                    <div>
                        <label for="due_before" class="block text-sm">Due Before</label>
                        <input type="date" id="due_before" name="due_before" class="w-full bg-gray-700 text-white rounded">
                    </div>
                </div>
            </div>

            <!-- Completed Filter -->
            <div class="mb-4">
                <h3 class="text-lg font-medium mb-2">Status</h3>
                <div class="flex items-center mb-2">
                    <input type="checkbox" id="completed" name="completed" value="true" class="mr-2">
                    <label for="completed">Completed</label>
                </div>
            </div>

            <!-- Type Filter -->
            <div class="mb-4">
                <h3 class="text-lg font-medium mb-2">Type</h3>
                <div class="flex items-center mb-2">
                    <input type="radio" id="type-all" name="type" value="" checked class="mr-2">
                    <label for="type-all">All</label>
                </div>
                <div class="flex items-center mb-2">
                    <input type="radio" id="type-project" name="type" value="PROJECT" class="mr-2">
                    <label for="type-project">Project</label>
                </div>
                <div class="flex items-center mb-2">
                    <input type="radio" id="type-next-action" name="type" value="NEXT_ACTION" class="mr-2">
                    <label for="type-next-action">Next Action</label>
                </div>
            </div>

            <!-- Priority Filter -->
            <div class="mb-4">
                <h3 class="text-lg font-medium mb-2">Priority</h3>
                {% for priority in priorities %}
                <div class="flex items-center mb-2">
                    <input type="checkbox" id="priority-{{ priority.0 }}" name="priority" value="{{ priority.0 }}" class="mr-2">
                    <label for="priority-{{ priority.0 }}">{{ priority.1 }}</label>
                </div>
                {% endfor %}
            </div>

            <!-- Apply Filters Button -->
            <button 
                type="submit"
                class="w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 transition duration-300"
            >
                Apply Filters
            </button>
        </form>
    </div>
</aside>